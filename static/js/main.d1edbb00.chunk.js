(this["webpackJsonpgit-web"]=this["webpackJsonpgit-web"]||[]).push([[0],{113:function(t,e,n){},115:function(t,e,n){},116:function(t,e,n){},118:function(t,e,n){},140:function(t,e,n){"use strict";n.r(e);var c=n(0),a=n.n(c),i=n(21),s=n.n(i),o=(n(85),n(31)),r=n(32),l=n(36),u=n(34),p=n(33),h=(n(113),n(6));var d=function(){return Object(h.jsx)("div",{className:"footer-content",children:"\u5e95\u90e8"})},b=n(42),j=n(16),m=(n(115),n(143)),g=n(145),f=n(146),O=n(147),x=n(74),v=(n(116),function(t){Object(u.a)(n,t);var e=Object(p.a)(n);function n(t){var c;return Object(o.a)(this,n),(c=e.call(this,t)).getPic=function(){c.$axios.get("https://api.no0a.cn/api/bing/0").then((function(t){c.setState({url:t.data.bing.url,desc:t.data.bing.copyright})}))},c.getSentence=function(){c.$axios.get("https://v1.alapi.cn/api/mingyan",{typeid:Math.floor(44*Math.random())+1}).then((function(t){var e=t.data.data;e.type=c.state.type[e.typeid],c.setState({sentence:e})}))},c.state={type:["\u52a0\u8f7d","\u7231\u60c5","\u9053\u5fb7","\u9752\u6625","\u613f\u671b","\u96c6\u4f53","\u7406\u60f3","\u5fd7\u5411","\u4eba\u624d","\u8c26\u865a","\u4eba\u683c","\u5929\u624d","\u9752\u5e74","\u793e\u4f1a","\u56fd\u5bb6","\u8d22\u5bcc","\u667a\u6167","\u4fee\u517b","\u5de5\u4f5c","\u5987\u5973","\u513f\u7ae5","\u601d\u60f3","\u7406\u667a","\u5b66\u4e60","\u79d1\u5b66","\u4fe1\u4ef0","\u8bda\u4fe1","\u8bfb\u4e66","\u6210\u8d25","\u5949\u732e","\u52b3\u52a8","\u8282\u7ea6","\u6559\u80b2","\u4f01\u4e1a","\u4e8b\u4e1a","\u65f6\u95f4","\u52e4\u594b","\u6c11\u65cf","\u771f\u7406","\u53cb\u8c0a","\u81ea\u7531","\u5fc3\u7406","\u5fc3\u7075","\u4eba\u751f","\u5e78\u798f","\u56e2\u7ed3"],url:"",desc:"",sentence:{author:"\u7a0b\u5e8f\u5458",content:"\u5929\u53f0\u7684\u98ce\u597d\u5927\u554a\uff0c\u6d4b\u8bd5\u6211\u5e26\u4f60\u53bb\u5439\u5439\uff1f",typeid:"0",type:"\u52a0\u8f7d"},time:new Date},c}return Object(r.a)(n,[{key:"componentDidMount",value:function(){var t=this;this.getPic(),this.getSentence(),setInterval((function(){t.setState({time:new Date})}),1e3)}},{key:"render",value:function(){return Object(h.jsxs)("div",{className:"bg-wrap",style:{backgroundImage:"url(".concat(this.state.url,")")},children:[Object(h.jsxs)("h1",{style:{paddingTop:"120px"},children:[Object(h.jsx)("div",{children:this.state.time.toDateString()}),Object(h.jsx)("span",{children:this.state.time.toLocaleTimeString()})]}),Object(h.jsx)(x.a,{placement:"bottomRight",color:"rgba(0,0,0,.5)",title:" \u2014\u2014 ".concat(this.state.sentence.author,"[").concat(this.state.sentence.type,"]"),children:Object(h.jsx)("span",{className:"sentence",children:this.state.sentence.content})}),Object(h.jsx)("span",{className:"bg-desc",children:this.state.desc})]})}}]),n}(a.a.Component)),y=function(t){Object(u.a)(n,t);var e=Object(p.a)(n);function n(){return Object(o.a)(this,n),e.apply(this,arguments)}return Object(r.a)(n,[{key:"render",value:function(){return Object(h.jsx)("h1",{children:"\u535a\u6587"})}}]),n}(c.Component),w=n(41),k=n.n(w),S=n(63),I=n(62),T=(n(118),n.p+"static/media/OGC.6887ee44.gif"),P=n(142),C=n(84),L=n(144),D=function(t){Object(u.a)(n,t);var e=Object(p.a)(n);function n(t){var c;return Object(o.a)(this,n),(c=e.call(this,t)).query=Object(I.a)(k.a.mark((function t(){var e;return k.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,c.$axios.get("https://api.github.com/repos/towgate/towgate.github.io/contents/picRepo",{headers:{Authorization:"token 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",Accept:"application/vnd.github.v3+json"}});case 2:e=t.sent,c.setStateSync({list:e.data}),localStorage.setItem("pic_urls",JSON.stringify(c.state.list)),c.setStateSync({imgs:Object(S.a)(c.state.list.map((function(t,e){return e<15?t.download_url:T})))}),setTimeout((function(){c.isScrolling()})),localStorage.setItem("picUpdateTime",String((new Date).getTime()));case 8:case"end":return t.stop()}}),t)}))),c.state={list:[],imgs:[],file:{},sdw:""},c.picWrap=a.a.createRef(),c.scrollListen=a.a.createRef(),c.getPic=c.getPic.bind(Object(l.a)(c)),c.isScrolling=c.isScrolling.bind(Object(l.a)(c)),c.loadPic=c.loadPic.bind(Object(l.a)(c)),c.imgInfo=c.imgInfo.bind(Object(l.a)(c)),c.uploadPic=c.uploadPic.bind(Object(l.a)(c)),c}return Object(r.a)(n,[{key:"componentDidMount",value:function(t){this.query()}},{key:"getPic",value:function(){var t=Object(I.a)(k.a.mark((function t(){var e=this;return k.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(localStorage.pic_urls&&!(localStorage.picUpdateTime&&+(new Date).getTime()-+localStorage.picUpdateTime>6e4)){t.next=4;break}this.query(),t.next=8;break;case 4:if(t.t0=localStorage.pic_urls,!t.t0){t.next=8;break}return t.next=8,this.setStateSync({list:JSON.parse(localStorage.pic_urls)});case 8:this.setStateSync({imgs:Object(S.a)(this.state.list.map((function(t,e){return e<15?t.download_url:T})))}),setTimeout((function(){e.isScrolling()})),localStorage.setItem("picUpdateTime",String((new Date).getTime()));case 11:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"delPic",value:function(){var t=Object(I.a)(k.a.mark((function t(e,n){var c;return k.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.$axios.delete("https://api.github.com/repos/towgate/towgate.github.io/contents/picRepo/"+n.name,{headers:{Authorization:"token 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",Accept:"application/vnd.github.v3+json"},params:{owner:"towgate",repo:"towgate.github.io",path:"picRepo/"+n.name,message:"delete pic",sha:n.sha,master:"master",committer:{name:"huangweiye",email:"1712889857@qq.com"},author:{name:"towgate",email:"1666920944@qq.com"}}});case 2:c=t.sent,console.log(c),this.query();case 5:case"end":return t.stop()}}),t,this)})));return function(e,n){return t.apply(this,arguments)}}()},{key:"setStateSync",value:function(t){var e=this;new Promise((function(n,c){e.setState(t,(function(){n()}))}))}},{key:"isScrolling",value:function(){this.scrollListen.current.addEventListener("scroll",this.debounce.call(this,this.loadPic))}},{key:"loadPic",value:function(){var t=this;this.picWrap.current&&Object(S.a)(this.picWrap.current.children).forEach((function(e,n){if(t.scrollListen.current.scrollTop<e.offsetTop&&e.offsetTop<t.scrollListen.current.scrollTop+t.scrollListen.current.offsetHeight){var c=Object(S.a)(t.state.imgs.map((function(e,c){return c===n?t.state.list[n].download_url:e})));t.setStateSync({imgs:c})}}))}},{key:"uploadPic",value:function(t){var e,n=this;e=t.target?t.target.files[0]:t;var c="p".concat(Math.floor((new Date).getTime()/1e3),".").concat(e.name.split(".")[e.name.split(".").length-1]),a=new File([e],c,{type:e.type});console.log(a);var i=new FileReader;return i.readAsDataURL(a),i.onload=function(){var t=Object(I.a)(k.a.mark((function t(e){var a,s;return k.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return(a=i.result.split(",")).splice(0,1),n.setState({sdw:i.result}),t.next=5,n.$axios.put("https://api.github.com/repos/towgate/towgate.github.io/contents/picRepo/"+c,{message:"upload pic "+c,content:a.join("")},{headers:{Authorization:"token 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",Accept:"application/vnd.github.v3+json"}});case 5:s=t.sent,console.log(s.data);case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),!1}},{key:"debounce",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:500,n=null;return function(){n&&clearTimeout(n),n=setTimeout(t,e)}}},{key:"imgInfo",value:function(t,e){console.log(t),console.log(this.picWrap.current.children[t].offsetTop),console.log(this.scrollListen.current.scrollTop),console.log(this.scrollListen.current.offsetHeight),console.log(e)}},{key:"render",value:function(){var t=this;return Object(h.jsxs)("div",{ref:this.scrollListen,className:"pic-list-wrap",children:[Object(h.jsx)("h1",{children:"\u56fe\u7247\u7011\u5e03"}),Object(h.jsx)(P.a,{showUploadList:!1,beforeUpload:this.uploadPic,children:Object(h.jsx)(C.a,{icon:Object(h.jsx)(L.a,{}),children:"Click to Upload"})}),Object(h.jsx)("br",{}),Object(h.jsx)("div",{ref:this.picWrap,className:"pic-list",children:this.state.list.map((function(e,n){return Object(h.jsx)("div",{alt:"pic",className:"pic-item",style:{backgroundImage:"url(".concat(t.state.imgs[n],")")},onClick:t.imgInfo.bind(t,n,e),children:Object(h.jsx)("button",{onClick:t.delPic.bind(t,n,e),style:{padding:"4px 16px",borderRadius:"6px",border:"none",margin:"10px auto"},children:"del"})},n)}))})]})}}]),n}(a.a.Component),R=function(t){Object(u.a)(n,t);var e=Object(p.a)(n);function n(){return Object(o.a)(this,n),e.apply(this,arguments)}return Object(r.a)(n,[{key:"componentDidMount",value:function(){console.log(this.props.match.params.aid)}},{key:"render",value:function(){return Object(h.jsx)("div",{children:"cssss"})}}]),n}(c.Component);var F=function(){return Object(h.jsx)("h1",{children:"\u753b\u677f"})};var q=function(){return Object(h.jsx)("h1",{children:"\u7c92\u5b50\u6548\u679c"})};var A=function(){return Object(h.jsx)("h1",{children:"\u5173\u4e8e\u6211"})},N=m.a.SubMenu,U=function(t){Object(u.a)(n,t);var e=Object(p.a)(n);function n(t){var c;Object(o.a)(this,n),(c=e.call(this,t)).state={msg:"my first react",key:"home"};var a=window.location.pathname.split("/");return c.state.key=a[a.length-1]||"home",c.handleClick=c.handleClick.bind(Object(l.a)(c)),c}return Object(r.a)(n,[{key:"handleClick",value:function(t){this.setState({key:t.key})}},{key:"render",value:function(){return Object(h.jsxs)("div",{className:"App false-fix",children:[Object(h.jsxs)(b.a,{children:[Object(h.jsxs)(m.a,{onClick:this.handleClick,mode:"horizontal",theme:"dark",defaultSelectedKeys:[this.state.key],children:[Object(h.jsx)(m.a.Item,{icon:Object(h.jsx)(g.a,{}),children:Object(h.jsx)(b.b,{to:"/",children:"\u9996\u9875"})},"home"),Object(h.jsx)(m.a.Item,{icon:Object(h.jsx)(f.a,{}),children:Object(h.jsx)(b.b,{to:"/blogs",children:"Blog"})},"blogs"),Object(h.jsxs)(N,{icon:Object(h.jsx)(O.a,{}),title:"Demo",children:[Object(h.jsxs)(m.a.ItemGroup,{title:"Web",children:[Object(h.jsx)(m.a.Item,{children:Object(h.jsx)(b.b,{to:"/web/pics",children:"PicList"})},"pics"),Object(h.jsx)(m.a.Item,{children:Object(h.jsx)(b.b,{to:"/web/songs",children:"Player"})},"songs")]}),Object(h.jsxs)(m.a.ItemGroup,{title:"Canvas",children:[Object(h.jsx)(m.a.Item,{children:Object(h.jsx)(b.b,{to:"/canvas/drawer",children:"\u753b\u677f"})},"drawer"),Object(h.jsx)(m.a.Item,{children:Object(h.jsx)(b.b,{to:"/canvas/dot",children:"\u7c92\u5b50\u6548\u679c"})},"dot")]})]},"Demo"),Object(h.jsx)(m.a.Item,{children:Object(h.jsx)(b.b,{to:"/author",children:"\u5173\u4e8e\u6211"})},"author")]}),Object(h.jsxs)("div",{className:"fix-content",children:[Object(h.jsx)(j.a,{exact:!0,path:"/",component:v}),Object(h.jsx)(j.a,{path:"/blogs",component:y}),Object(h.jsx)(j.a,{path:"/web/pics",component:D}),Object(h.jsx)(j.a,{path:"/web/songs",component:R}),Object(h.jsx)(j.a,{path:"/canvas/drawer",component:F}),Object(h.jsx)(j.a,{path:"/canvas/dot",component:q}),Object(h.jsx)(j.a,{path:"/author",component:A})]})]}),Object(h.jsx)(d,{})]})}}]),n}(c.Component),_=function(t){t&&t instanceof Function&&n.e(3).then(n.bind(null,148)).then((function(e){var n=e.getCLS,c=e.getFID,a=e.getFCP,i=e.getLCP,s=e.getTTFB;n(t),c(t),a(t),i(t),s(t)}))},E=n(103),W=n.n(E),J=n(23);n(139);a.a.Component.prototype.$axios=W.a,s.a.render(Object(h.jsx)(J.a,{children:Object(h.jsx)(U,{})}),document.getElementById("root")),_()},85:function(t,e,n){}},[[140,1,2]]]);
//# sourceMappingURL=main.d1edbb00.chunk.js.map